{"version":3,"sources":["services/persons.js","components/Numbers.js","components/Filter.js","components/PersonForm.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newPerson","post","id","delete","updatedPerson","put","DeleteButton","handleClick","onClick","Numbers","persons","setPersons","search","setError","personsToShow","filter","person","name","toLowerCase","includes","map","key","number","window","confirm","personService","p","catch","error","setTimeout","deletePerson","Filter","setSearch","value","onChange","event","console","log","target","PersonForm","newName","setNewName","newNumber","setNewNumber","setMessage","onSubmit","preventDefault","entry","find","undefined","concat","confirmString","personObject","updatePhone","type","Notification","message","className","Error","App","useState","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a509572d.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios\n    .get(baseUrl)\n    .then(response => response.data)\n}\n\nconst addPerson = newPerson => {\n  return axios\n    .post(baseUrl, newPerson)\n    .then(response => response.data)\n}\n\nconst updatePhone = updatedPerson => {\n  return axios\n    .put(`${baseUrl}/${updatedPerson.id}`, updatedPerson)\n    .then(response => response.data)\n}\n\nconst deletePerson = id => {\n  return axios\n    .delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, addPerson, deletePerson, updatePhone }\n\n","import React from 'react'\nimport personService from '../services/persons.js'\n\nconst DeleteButton = ({ handleClick }) => {\n  return (\n    <button onClick={handleClick}>delete</button>\n  )\n}\n\nconst Numbers = ({ persons, setPersons, search, setError }) => {\n  const personsToShow = (search === \"\")\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase()))\n\n  const deletePerson = person => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .deletePerson(person.id)\n        .then(() => setPersons(persons.filter(p => p.id !== person.id)))\n        .catch(error => {\n          setError(`${person.name} has already been deleted`)\n            \n          setTimeout(() => setError(null), 5000)\n          setPersons(persons.filter(p => p.id !== person.id))\n        })\n    }\n  }\n\n  return (\n    <>\n      {personsToShow.map(person => \n        <div key={person.id}>\n          {person.name} {person.number}\n          <DeleteButton\n            handleClick={() => deletePerson(person)}\n          />\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Numbers\n\n","import React from 'react'\n\nconst Filter = ({ search, setSearch }) => {\n  const handleSearchChange = (event) => {\n    console.log(event.target.value)\n    setSearch(event.target.value)\n  }\n\n  return (\n    <div>\n      filter shown with <input value={search} onChange={handleSearchChange} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\nimport personService from '../services/persons.js'\n\nconst PersonForm = ({\n    newName,\n    setNewName,\n    newNumber,\n    setNewNumber,\n    persons,\n    setPersons,\n    setMessage,\n    setError\n  }) => {\n\n  const updatePhone = (personObject) => {\n    personService.updatePhone(personObject)\n      .then(newPerson => {\n        setPersons(persons.map(person => {\n          return person.id !== newPerson.id ? person : newPerson\n        }))\n\n        setMessage(`Updated ${newPerson.name}'s number to ${newPerson.number}`)\n        setTimeout(() => setMessage(null), 5000)\n      })\n      .catch(error => {\n        setError(`${personObject.name} has already been deleted`)\n        setTimeout(() => setError(null), 5000)\n        setPersons(persons.filter(p => p.id !== personObject.id))\n      })\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    // prevent duplicate people\n    const entry = persons.find(person => person.name === newName)\n    if (entry !== undefined) {\n      const confirmString = `${entry.name} is already in phonebook.`\n        + \" Replace the old number with a new one?\"\n\n      if (window.confirm(confirmString)) {\n        const personObject = { ...entry, number: newNumber }\n        updatePhone(personObject)\n      }\n\n      return\n    }\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    personService.addPerson(personObject)\n      .then(person => {\n        setPersons(persons.concat(person))\n        setNewName('')\n        setNewNumber('')\n\n        setMessage(`Added ${person.name}`)\n        setTimeout(() => setMessage(null), 5000)\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className='notification'>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import React from 'react'\n\nconst Error = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className='error'>\n      {message}\n    </div>\n  )\n}\n\nexport default Error\n\n","import React, { useState, useEffect } from 'react'\n\nimport Numbers from './components/Numbers'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\nimport personService from './services/persons.js'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ error, setError ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => setPersons(persons))\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Error message={error} />\n      <Filter search={search} setSearch={setSearch} />\n      <h3>Add a new number</h3>\n      <PersonForm\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        persons={persons}\n        setPersons={setPersons}\n        setMessage={setMessage}\n        setError={setError}\n      />\n      <h3>Numbers</h3>\n      <Numbers\n        persons={persons}\n        setPersons={setPersons}\n        search={search}\n        setError={setError}\n      />\n    </div>\n  )\n}\n\nexport default App\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}